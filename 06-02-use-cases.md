# Use cases
## 详述用例
### 顾客购票

**范围**：票多多应用

**级别**：用户目标

**主要参与者**：顾客

**涉众及关注点**：

顾客：希望看到清晰的影片信息，包括影片介绍、影评以及在各影院的场次安排。希望能够简单方便地进行选择并下单。

支付授权服务：

**前置条件**：顾客必须登录系统。电影信息、影院信息、票价信息、座位信息都是正确的。

**后置条件（成功保证）**：存储订单信息，准确计算票价，反馈订单结果给用户，更新账务信息，更新影院的座位信息和剩余票量，记录支付授权的批准。顾客提交的订单状态更改为已支付。

**主成功场景（基本流程）**：

1. 顾客登录售票系统。
2. 顾客浏览电影信息或搜索电影。
3. 顾客选择所需的电影、影院、场次、座位，生成新订单。
4. 顾客提交订单，选择支付方式，进行支付授权并支付。
5. 顾客获得订单状态的反馈。
6. 系统记录订单信息，更新影院的座位信息及剩余票量。

**扩展**：

1a.用户名不存在

1b.用户密码错误

2a.顾客搜索的电影不存在

- 提示不存在
- 推荐一些相近的片名

3a.顾客选择场次时发现票已售罄。

- 提示该场次票已售罄
- 重新返回选择场次的页面

3b.顾客选择座位时发现所选座位被预订

- 提示座位已被预订
- 重新返回选择座位的页面

4a.支付授权失败

- 重新返回选择支付方式的页面

4b.支付失败

- 订单改为未支付状态，为顾客保留订单15分钟
- 15分钟后，若订单仍未支付，则自动取消订单，释放座位

5a.支付成功后未获得相应反馈

- 建议顾客刷新页面
- 联系客服处理
- 
**特殊需求**：支持文本显示的语言国际化

**技术与数据变元表**：支付授权可以通过Alipay\WechatPay\ApplePay等进行

**发生频率**：可能会不断发生

**未决问题**：

- 如何处理两个用户同时订到同一个座位的问题
- 如何及时快速地更新座位信息

## 非正式用例

### 顾客选择座位

主成功场景：

1. 顾客查看目前的空闲座位(即可选座位)
2. 顾客选定某个(些)座位，提交给系统
3. 系统为顾客锁定其所选座位
4. 系统保留座位15分钟，等待顾客支付订单

交替场景：

- 顾客选定座位提交后，由于页面更新的延迟，导致所选座位已被他人锁定，顾客需另外选择座位

**用例图**:
![img](https://github.com/YeungLy/Test/blob/master/%E9%9D%9E%E6%AD%A3%E5%BC%8F%E7%94%A8%E4%BE%8B%E5%9B%BE.png?raw=true)

**活动图**:
![img](https://github.com/YeungLy/Test/blob/master/%E6%B4%BB%E5%8A%A8%E5%9B%BE.png?raw=true)

## 简述用例

### 用户登录

用户登录：用户打开网站，输入用户名和密码，通过系统验证后登录成功，跳转到网站首页。
